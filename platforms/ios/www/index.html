<!DOCTYPE HTML>
<html>
    <head>
        <title>com.PhoneGap.c2dm</title>
    </head>
    <body>

/*
NOTE:
    This demo uses these plugins:
        Cordova Device Plugin: http://plugins.cordova.io/#/package/org.apache.cordova.device
        Cordova Media Plugin: http://plugins.cordova.io/#/package/org.apache.cordova.media

    To add them via the CLI:
        $ cordova plugin add org.apache.cordova.device
        $ cordova plugin add org.apache.cordova.media
*/
        <!--<script type="text/javascript" charset="utf-8" src="cordova-2.2.0.js"></script>-->

        <script type="text/javascript">
          window.localStorage = {getItem: function(k) {}, setItem: function(k,v) {} };
        </script>

        <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/dl.js"></script>

        <script type="text/javascript">
            console.log("WTF?");

function onDeviceReady() {
  $("#app-status-ul").append('<li>deviceready event received</li>');
console.log("device ready!");

      var dl = new DL.Client({
        url: "http://dl-api.dev/api/index.php/",
        appId: 9,
        key: "4e5acafac02a41ddc5c68c2847ae177c"
      });

      console.log("DL.Client!");

      dl.cordova.push.register({"badge":"true","sound":"true","alert":"true"}).on('notification', function(e) {
          console.log("Notification!");
          console.log(e);
          $("#app-status-ul").append('<li>notification</li>');
      });
}

document.addEventListener('deviceready', onDeviceReady, true);

         </script>
		<div id="home">
			<div id="app-status-div">
				<ul id="app-status-ul">
					<li>Cordova PushNotification Plugin Demo</li>
				</ul>
			</div>
		</div>
    </body>
</html>
